# 小猪消消乐

## 账号

g1@minipx.cn

appId: wx2d01e63038198832

## 故事设计

## 关卡设计

限制：步数（steps）、棋盘（）
目标：分数、数字

```json
[
  {
    "stage": 1,
    "limit": {
      "steps": 3
    },
    "goals": {
      "score": 100
    }
  },
  {
    "stage": 2,
    "limit": {
      "steps": 5
    },
    "goals": {
      "score": 200
    }
  }
]
```

参考

```json
[
  {
    "stage": 1,
    "arena": [
      // 0 代表该格子不可用
      [1, 0, 1, 1, 1],
      [1, 1, 0, 1, 1],
      [1, 1, 1, 0, 1],
      [1, 1, 1, 1, 0],
      [0, 1, 1, 1, 1]
    ],
    "limit": {
      // 生命不限
      "lives": -1,
      // 步数不限
      "steps": -1,
      // 时间不限
      "seconds": -1
    },
    "goal": {
      "score": 1000,
      // 同时存在 2 1 个，3 2 个
      "exist": [[2, 1], [3, 2]],
      // 合成 2 1 次，3 2 次
      "merge": [[2, 1], [3, 2]],
      // 2 连击 1 次，3 连击 2 次
      "combo": [[2, 1], [3, 2]],
      // 合成魔法数字 2 次
      "magic": 2
    }
  }
]
```

## 想法

最终合成出皇上？

## 文字

// (.)\1

Tahoma: 0123456789.+-×/%
思源:

Score：
1234567890.+

白色：

0123456789.+-×/%
不世主了体高免兑关击分力即历友发史回处复好始小开得换排数新最本榜次活点界白福空立获行视谢费足转返送重闭面页频猪炫耀一下
：！，。—

红色：ff6d63
转发视频获得幸运道具金币福包！

## 坑

- 半透明 + 九宫格，导致对象不响应触摸事件
- 纹理 + repeat，贴片间会出现空隙

## 广告

750×264

## 附录

快速生成地图

```js
// 6×6
// ● def
// ○ ice
// ≡ fix
// × nil
const typesMap = {
  "●": 1,
  "○": 2,
  "≡": 4,
  "×": 8,
};
const matrix = `
≡ ● ● ● ● ≡
● ● ○ ○ ● ●
● ○ × × ○ ●
● ○ × × ○ ●
● ● ○ ○ ● ●
≡ ● ● ● ● ≡
`
.replace(/^\s| +|\s$/g, "")
.split(/[\r\n]+/)
.map((line, row) => line.split("").map((v, col) => typesMap[v]))

console.log(matrix);

// [ [ 4, 1, 1, 1, 1, 4 ],
//   [ 1, 1, 2, 2, 1, 1 ],
//   [ 1, 2, 8, 8, 2, 1 ],
//   [ 1, 2, 8, 8, 2, 1 ],
//   [ 1, 1, 2, 2, 1, 1 ],
//   [ 4, 1, 1, 1, 1, 4 ] ]
```

```js
// 6×6
// ● def
// ○ ice
// ≡ fix
// × nil
const typesMap = {
  "●": 1,
  "○": 2,
  "≡": 4,
  "×": 8,
};
const matrix = `
● ● ● ● ● ●
● × ● ● × ●
● ● ● ● ● ●
● ● ● ● ● ●
● × ● ● × ●
● ● ● ● ● ●
`
.replace(/^\s| +|\s$/g, "")
.split(/[\r\n]+/)
.map((line, row) => line.split("").map((v, col) => typesMap[v]))

console.log(matrix);
```
